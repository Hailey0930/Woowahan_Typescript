# êµ¬ì¡°ì  ì„œë¸Œíƒ€ì´í•‘(Structural Subtyping)

ì§‘í•©ìœ¼ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì… ì‹œìŠ¤í…œì„ ì§€íƒ±í•˜ê³  ìˆëŠ” ê°œë…<br />
ê°ì²´ê°€ ê°€ì§€ê³  ìˆëŠ” ì†ì„±ì„ ë°”íƒ•ìœ¼ë¡œ íƒ€ì…ì„ êµ¬ë¶„í•˜ëŠ” ê²ƒ
ì´ë¦„ì´ ë‹¤ë¥¸ ê°ì²´ë¼ë„ ê°€ì§„ ì†ì„±ì´ ë™ì¼í•˜ë‹¤ë©´ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ì„œë¡œ í˜¸í™˜ì´ ê°€ëŠ¥í•œ ë™ì¼í•œ íƒ€ì…ìœ¼ë¡œ ì—¬ê¸´ë‹¤.<br /><br />
íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ëª…ëª©ì  íƒ€ì´í•‘ì´ ì•„ë‹Œ êµ¬ì¡°ì  íƒ€ì´í•‘ì„ ì±„íƒí•œ ì´ìœ ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ëª¨ë¸ë§í•œ ì–¸ì–´ì´ê¸° ë•Œë¬¸ì´ë‹¤.
ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ë• íƒ€ì´í•‘(duck typing)ì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤.
ë• íƒ€ì´í•‘ì€ ì–´ë–¤ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ«ê°’ì´ ì˜¬ë°”ë¥´ê²Œ ì£¼ì–´ì§„ë‹¤ë©´ ê·¸ ê°’ì´ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€ ì‹ ê²½ì“°ì§€ ì•Šê³  ì‚¬ìš©í•œë‹¤ëŠ” ê°œë…ì´ë‹¤.
ì‰¬ìš´ ì‚¬ìš©ì„±ê³¼ ì•ˆì „ì„±ì´ë¼ëŠ” ë‘ ê°€ì§€ ëª©í‘œ ì‚¬ì´ì˜ ê· í˜•ì„ ì¤‘ì‹œí•˜ëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ê°ì²´ ê°„ ì†ì„±ì´ ë™ì¼í•˜ë‹¤ë©´ ì„œë¡œ í˜¸í™˜ë˜ëŠ” êµ¬ì¡°ì  íƒ€ì… ì‹œìŠ¤í…œì„ ì œê³µí•˜ì—¬ ë”ìš± í¸ë¦¬ì„±ì„ ë†’ì˜€ë‹¤.

> **ë•íƒ€ì´í•‘** ? ì–´ë–¤ íƒ€ì…ì— ë¶€í•©í•˜ëŠ” ë³€ìˆ˜ì™€ ë©”ì„œë“œë¥¼ ê°€ì§ˆ ê²½ìš° í•´ë‹¹ íƒ€ì…ì— ì†í•˜ëŠ” ê²ƒìœ¼ë¡œ ê°„ì£¼í•˜ëŠ” ë°©ì‹ <br />
> "ë§Œì•½ ì–´ë–¤ ìƒˆê°€ ì˜¤ë¦¬ì²˜ëŸ¼ ê±·ê³  í—¤ì—„ì¹˜ë©° ê½¥ê½¥ê±°ë¦¬ëŠ” ì†Œë¦¬ë¥¼ ë‚¸ë‹¤ë©´ ë‚˜ëŠ” ê·¸ ìƒˆë¥¼ ì˜¤ë¦¬ë¼ê³  ë¶€ë¥¼ ê²ƒì´ë‹¤."

```typescript
type stringOrNumber = string | number;
```

```typescript
interface Pet {
  name: string;
}

interface Cat {
  name: string;
  age: number;
}

let pet: Pet;
let cat: Cat = { name: "Zag", age: 2 };

pet = cat; // OK
```

```typescript
interface Pet {
  name: string;
}

let cat = { name: "Zag", age: 2 };

function greet(pet: Pet) {
  console.log("Hello, " + pet.name);
}

greet(cat);
```

ì„œë¡œ ë‹¤ë¥¸ ë‘ íƒ€ì… ê°„ì˜ í˜¸í™˜ì„±ì€ ì˜¤ë¡œì§€ íƒ€ì… ë‚´ë¶€ì˜ êµ¬ì¡°ì— ì˜í•´ ê²°ì •ëœë‹¤. <br />
íƒ€ì… Aê°€ íƒ€ì… Bì˜ ì„œë¸Œíƒ€ì…ì´ë¼ë©´ A íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” B íƒ€ì…ì´ í•„ìš”í•œ ê³³ì— ì–¸ì œë“ ì§€ ìœ„ì¹˜í•  ìˆ˜ ìˆë‹¤. <br />
ì¦‰, íƒ€ì…ì´ ê³„ì¸µ êµ¬ì¡°ë¡œë¶€í„° ììœ ë¡­ë‹¤.

```typescript
class Person {
  name: string;
  age: number;

  constructor(name: string, age: number) {
    this.name = name;
    this.age = age;
  }
}

class Developer {
  name: string;
  age: number;
  sleepTime: number;

  constructor(name: string, age: number, sleepTime: number) {
    this.name = name;
    this.age = age;
    this.sleepTime = sleepTime;
  }
}

function greet2(p: Person) {
  console.log(`Hello, I'm ${p.name}`);
}

const developer = new Developer("zig", 20, 7);
greet(developer); // Hello, I'm zig
```

## êµ¬ì¡°ì  íƒ€ì´í•‘ì˜ ê²°ê³¼

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ êµ¬ì¡°ì  íƒ€ì´í•‘ì˜ íŠ¹ì§• ë•Œë¬¸ì— ì˜ˆê¸°ì¹˜ ëª»í•œ ê²°ê³¼ê°€ ë‚˜ì˜¬ ë•Œë„ ìˆë‹¤.

```typescript
interface Cube {
  width: number;
  height: number;
  depth: number;
}

function addLines(c: Cube) {
  let total = 0;

  for (const axis of Object.keys(c)) {
    // ğŸš¨ Element implicitly has an 'any' type
    // because expression of type 'string' can't be used to index type 'Cube'
    // ğŸš¨ No index signature with a parameter of type 'string'
    // was found on type 'Cube'
    const length = c[axis];

    total += length;
  }
}
```

cì— ë“¤ì–´ì˜¬ ê°ì²´ëŠ” Cubeì˜ width, height, depth ì™¸ì—ë„ ì–´ë–¤ ì†ì„±ì´ë“  ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— `c[axis]`ì˜ íƒ€ì…ì´ stringì¼ ìˆ˜ë„ ìˆì–´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

```typescript
const namedCube = {
  width: 6,
  height: 5,
  depth: 4,
  name: "SweetCube",
};

addLines(namedCube); // OK
```

ì´ëŸ¬í•œ í•œê³„ë¥¼ ê·¹ë³µí•˜ê³ ì íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì— ëª…ëª©ì  íƒ€ì´í•‘ ì–¸ì–´ì˜ íŠ¹ì§•ì„ ê°€ë¯¸í•œ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨(Discriminated Unions) ê°™ì€ ë°©ë²•ì´ ìƒê²¨ë‚¬ë‹¤.
